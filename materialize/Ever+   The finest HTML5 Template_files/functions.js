var $window=$(window);$(function(){"use strict";function o(o,t){$("body").addClass("unload");var a=o.attr("href");$(".loader").addClass("out"),setTimeout(function(){t?($("body").removeClass("unload"),window.open(a,t)):window.location=a},650)}function t(){$(".parallax").each(function(){var o=$(this),t=$(window).scrollTop(),a=t*s,a=+a.toFixed(2);o.hasClass("fs")?o.css("transform","translate3d(-50%,-"+(50-.15*a)+"%,0)"):o.css("transform","translate3d(0,"+a+"px,0)")})}function a(){var o=$window.height(),t=$window.scrollTop(),a=t+o;$.each(r,function(){var o=$(this),n=o.outerHeight(),i=o.offset().top,s=i+n;s>=t&&i<=a?o.addClass("in-view"):o.removeClass("in-view")})}var n=!0,i=$(".grid");$("html").append('<div class="loader"></div>'),i.isotope({itemSelector:".item",stamp:".stamp",percentPosition:!0}),$(".item").imagesLoaded({background:!0}).progress(function(){$(this).addClass("loaded"),i.isotope("layout")}),$(".filter").on("click",function(){$(".filter.active").removeClass("active"),$(this).addClass("active");var o=$(this).attr("data-filter");i.isotope({filter:o})}),$("#mainnav a, .grid a, .list a, a.btn, .content a").on("click",function(t){t.preventDefault();var a=$(this).attr("target");$(this).hasClass("dropdown-toggle")||$(this).hasClass("lightbox")||$(this).hasClass("anchor")||"tab"==$(this).attr("role")||"#"==$(this).attr("href")||(t.stopPropagation(),o($(this),a))}),$(".anchor").on("click",function(o){o.preventDefault(),o.stopPropagation();var t=$(this).attr("href");$("html,body").animate({scrollTop:$(t).offset().top-50+"px"})}),$(".menu-trigger").on("click",function(){$(".navbar-modern").fadeIn()}),$(".close").on("click",function(){$(".navbar-modern").fadeOut()});var s=.15;$(window).scroll(function(){window.requestAnimationFrame(t),$window.scrollTop()>100?e.addClass("show"):e.removeClass("show")});var e=$('<div class="to-top ion-chevron-up"></div>');(n=!0)&&$("body").append(e),e.on("click",function(){$("html,body").animate({scrollTop:0})});var r=$(".fly-in");$window.on("scroll resize",function(){window.requestAnimationFrame(a)}),$window.trigger("scroll"),$window.on("unload",function(){}),window.requestAnimationFrame(a)}),$window.on("load",function(){$("body, .loader").addClass("load"),$("section .animated").addClass("activate")});